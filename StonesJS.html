<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<body>

<h2>Chaos Mage Spell Selection</h2>

<h3>Spell Type:</h3>

<p id="spellType">Click the button for first spell type.</p>

<button type="button" onclick ="nextSpell()">Next spell type</button>

<h3>Available Spells:</h3>
<p id="spellText"></p>
<!-- Spells will eventually go here -->

<script>
var SPELL_DATA = ["Attack","Attack.","Defense","Defense.","Icon","Icon."];
var stones = [];
var ATTACK = ["Force Tentacle", "Chaos Ray", "Blarrrrgh!"];
var DEFENSE = ["Chaos Blessing", "Warped Healing"];
var ICON = ["Archmage", "Crusader", "Diabolist", "Dwarf King", "Elf Queen",
    "Great Gold Wyrm", "High Druid", "Lich King", "Orc Lord", "Priestess",
    "Prince of Shadows", "The Three"];

function resetStones() {
    stones = SPELL_DATA.slice(0);
    //shuffle
    for (var i = stones.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = stones[i];
        stones[i] = stones[j];
        stones[j] = temp;
    }
}

function nextSpell() {
    //reset the array when there's one left
    if (stones.length <= 1) {
        resetStones();
    }
    var type = stones.pop();
    document.getElementById("spellType").innerHTML = type;
    displaySpells(type);
}

function displaySpells(type) {
    if (type.includes("Attack")) {
        document.getElementById("spellText").innerHTML = ATTACK;
    } else if (type.includes("Defense")) {
        document.getElementById("spellText").innerHTML = DEFENSE;
    } else {
        document.getElementById("spellText").innerHTML = ICON;
    }
}
</script>

</body>
</html>
